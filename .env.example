# Frigate-Telegram Bot Configuration
# Copy this file to .env and fill in your values

# ===================
# REQUIRED SETTINGS
# ===================

# Telegram Bot token (get from @BotFather)
TELEGRAM_TOKEN=your_bot_token_here

# Telegram chat/forum ID (use @userinfobot to get it)
TELEGRAM_CHAT_ID=-1001234567890

# Camera to Telegram thread mapping (JSON format)
# Maps camera names to forum topic thread IDs
# Example: {"cam-front-door": 2, "cam-backyard": 3, "cam-garage": 4}
CAMERA_THREAD_MAP={}

# ===================
# MQTT SETTINGS
# ===================

MQTT_BROKER=localhost
MQTT_PORT=1883
MQTT_USER=
MQTT_PASSWORD=
MQTT_TOPIC=frigate/events

# ===================
# FRIGATE SETTINGS
# ===================

# Frigate API URL
FRIGATE_URL=http://localhost:5000

# Cameras that only support thumbnails (comma-separated, no spaces)
# Use for cameras with broken video codec
# Example: cam-old-entrance,cam-broken-codec
THUMBNAIL_ONLY_CAMERAS=

# ===================
# VIDEO PROCESSING
# ===================

# Maximum event duration in seconds (default: 1800 = 30 minutes)
# Events longer than this will be skipped
MAX_EVENT_DURATION=1800

# Video chunk duration in seconds (default: 600 = 10 minutes)
# Long videos will be split into chunks of this length
VIDEO_CHUNK_DURATION=600

# Video scale (width:height, -2 means auto-calculate maintaining aspect ratio)
VIDEO_SCALE=1280:-2

# Video quality (CRF value: 18=high quality, 23=default, 28=low quality)
VIDEO_CRF=23

# Audio bitrate
AUDIO_BITRATE=128k

# ===================
# WORKER SETTINGS
# ===================

# Number of parallel workers for processing events
MAX_WORKERS=10

# Maximum queue size (older events dropped when full)
MAX_QUEUE_SIZE=1000

# ===================
# RETRY SETTINGS
# ===================

# Number of retry attempts for failed uploads
MAX_RETRIES=3

# Download timeout in seconds
DOWNLOAD_TIMEOUT=60

# Upload timeout in seconds
UPLOAD_TIMEOUT=120

# ===================
# HEALTH & STATUS
# ===================

# Health check HTTP port
HEALTH_PORT=8085

# Status publish interval in seconds
STATUS_INTERVAL=60
